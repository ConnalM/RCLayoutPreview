<Window x:Class="RCLayoutPreview.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RC Layout Editor Preview"
        Height="800"
        Width="1200"
        FontFamily="Segoe UI">
    <DockPanel>
        <!-- Top toolbar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5" HorizontalAlignment="Left">
            <Button x:Name="LoadLayoutButton" Content="Load Layout" Margin="0,0,10,0" Click="LoadLayout_Click"/>
            <Button x:Name="LoadJsonButton" Content="Load JSON" Margin="0,0,10,0" Click="LoadJson_Click"/>
            <Button x:Name="PreviewButton" Content="Preview" Margin="0,0,10,0" Click="Preview_Click"/>
            <Button x:Name="SaveButton" Content="Save Layout" Margin="0,0,10,0" Click="SaveLayout_Click"/>
            <TextBlock x:Name="StatusLabel" VerticalAlignment="Center" Margin="10,0,0,0" />
            <CheckBox x:Name="DebugModeToggle"
              Content="Show Field Names"
              Margin="10,0"
              VerticalAlignment="Center"
              IsChecked="True"
              Checked="DebugModeToggle_Changed"
              Unchecked="DebugModeToggle_Changed"/>
        </StackPanel>
            
        <!-- Main content split between editor and preview -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="5" />
                <!-- Separator -->
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- XAML editor -->
            <TextBox x:Name="Editor"
                     Grid.Column="0"
                     AcceptsReturn="True"
                     AcceptsTab="True"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     FontFamily="Consolas"
                     FontSize="14"
                     TextWrapping="NoWrap"
                     Margin="5" />

            <!-- Separator -->
            <Rectangle Grid.Column="1" Fill="LightGray" Width="1" />

            <!-- Live preview -->
            <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Auto" Margin="5">
                <Border BorderBrush="Gray" BorderThickness="1" Padding="5" Background="White">
                    <ContentControl x:Name="PreviewHost" />
                </Border>
            </ScrollViewer>
        </Grid>
    </DockPanel>
</Window>